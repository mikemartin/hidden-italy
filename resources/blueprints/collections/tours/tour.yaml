title: Tour
tabs:
  main:
    display: Main
    sections:
      -
        fields:
          -
            handle: title
            field:
              type: text
              required: true
              validate:
                - required
              width: 50
          -
            handle: location
            field:
              type: text
              display: Location
              width: 50
              validate:
                - required
          -
            handle: summary
            field:
              character_limit: 90
              type: text
              display: Teaser
          -
            handle: image
            field:
              container: assets
              folder: tours
              dynamic: slug
              restrict: true
              mode: grid
              max_files: 1
              type: assets
              display: Image
      -
        display: Overview
        fields:
          -
            handle: days
            field:
              type: integer
              display: Days
              validate:
                - required
                - integer
              width: 50
          -
            handle: grade
            field:
              max: 5
              type: range
              display: Grade
              append: '/ 5'
              width: 50
          -
            handle: filter_grade
            field:
              type: select
              display: 'Walking Grade Filter'
              options:
                moderate: 'Moderate (0-2)'
                intermediate: 'Intermediate (2-3)'
                challenging: 'Challenging (3-5)'
              instructions: 'Used only for filtering; not part of entry data.'
              width: 50
              visibility: hidden
              listable: false
          -
            handle: tour_size
            field:
              type: integer
              display: 'Tour Size'
              validate:
                - integer
              if:
                tour_types: 'contains tour_types::guided'
              width: 50
          -
            handle: date
            field:
              type: date
              display: Date
              if:
                tour_types: 'contains tour_types::guided'
              width: 50
          -
            handle: overview
            field:
              buttons:
                - bold
                - italic
                - unorderedlist
                - orderedlist
                - removeformat
                - anchor
              remove_empty_nodes: false
              type: bard
              display: Summary
              reading_time: true
              word_count: true
          -
            handle: inclusions
            field:
              type: list
              display: Inclusions
          -
            handle: gallery
            field:
              container: assets
              dynamic: slug
              mode: grid
              max_files: 12
              type: assets
              display: Gallery
              instructions: 'Add at least 5 photos of people in action, and show different angles.'
              folder: tours
              restrict: true
      -
        display: 'Page Builder'
        fields:
          -
            handle: page_builder
            field:
              type: replicator
              display: 'Page Builder'
              button_label: 'Add Section'
              sets:
                tour:
                  display: Tour
                  icon: travel-map
                  sets:
                    highlights:
                      display: Highlights
                      instructions: 'Add up to 6 top activities'
                      icon: star
                      image: highlights.png
                      fields:
                        -
                          handle: title
                          field:
                            type: text
                            display: Title
                        -
                          handle: activities
                          field:
                            type: grid
                            display: Activities
                            instructions: 'Start with a warm welcome and end with a strong finale. Keep the itinerary clear and concise.'
                            mode: stacked
                            add_row: 'Add Activity'
                            fields:
                              -
                                handle: title
                                field:
                                  type: text
                                  display: Title
                                  instructions: 'Explain the activity in 2 to 4 words. Always start with a verb.'
                              -
                                handle: summary
                                field:
                                  character_limit: 120
                                  type: textarea
                                  display: Summary
                                  instructions: 'Expand on the title in a sentence. What can travellers expect to do at this point of the tour.'
                              -
                                handle: icon
                                field:
                                  container: icons
                                  max_files: 1
                                  type: assets
                                  display: Icon
                                  instructions: 'Choose a simple icon that matches the description.'
                                  show_filename: false
                                  show_set_alt: false
                    itinerary:
                      display: Itinerary
                      instructions: 'Create a day by day itinerary'
                      icon: arrow-roadmap-path-flow
                      image: itinerary.png
                      fields:
                        -
                          handle: title
                          field:
                            type: text
                            display: Title
                        -
                          handle: summary
                          field:
                            type: textarea
                            display: Summary
                            instructions: 'Write a brief overview of the itinerary. Focus on the route, region, and overall experience.'
                        -
                          handle: days
                          field:
                            mode: stacked
                            add_row: 'Add Day'
                            type: grid
                            display: Days
                            instructions: 'Start with a warm welcome and end with a strong finale. Keep the itinerary clear and concise.'
                            fields:
                              -
                                handle: title
                                field:
                                  type: text
                                  display: Title
                                  instructions: 'Describe the day in 2 to 4 words. Always start with a verb.'
                              -
                                handle: description
                                field:
                                  character_limit: 500
                                  type: textarea
                                  display: Description
                                  instructions: 'Describe the main experiences of the day. Keep it concise and easy to scan.'
                              -
                                handle: duration
                                field:
                                  append: m
                                  type: integer
                                  display: Duration
                                  width: 33
                                  instructions: 'Total walking time for the day.'
                              -
                                handle: distance
                                field:
                                  append: kms
                                  type: integer
                                  display: Distance
                                  width: 33
                                  instructions: 'Total walking distance.'
                              -
                                handle: elevation
                                field:
                                  append: m
                                  type: integer
                                  display: Elevation
                                  width: 33
                                  instructions: 'Total ascent.'
                              -
                                handle: photo
                                field:
                                  container: assets
                                  dynamic: slug
                                  max_files: 1
                                  type: assets
                                  display: Photo
                                  folder: tours
                              -
                                handle: meals_included
                                field:
                                  options:
                                    -
                                      key: breakfast
                                      value: Breakfast
                                    -
                                      key: lunch
                                      value: Lunch
                                    -
                                      key: dinner
                                      value: Dinner
                                  inline: true
                                  type: checkboxes
                                  display: 'Meals Included'
                                  instructions: 'Select the meals provided on this day.'
  sidebar:
    display: Sidebar
    sections:
      -
        display: Wireframe
        fields:
          -
            handle: wireframe
            field:
              html: '<a class="relative inline-flex items-center justify-center whitespace-nowrap shrink-0 font-medium antialiased cursor-pointer no-underline disabled:text-gray-400 dark:disabled:text-gray-600 disabled:[&amp;_svg]:opacity-30 disabled:cursor-not-allowed [&amp;_svg]:shrink-0 [&amp;_svg]:text-black [&amp;_svg]:opacity-60 dark:[&amp;_svg]:text-white bg-linear-to-b from-white to-gray-50 hover:to-gray-100 hover:bg-gray-50 text-gray-900 border border-gray-300 shadow-ui-sm dark:from-gray-850 dark:to-gray-900 dark:hover:to-gray-850 dark:hover:bg-gray-900 dark:border-gray-700/80 dark:text-gray-300 dark:shadow-ui-md px-4 h-10 text-sm gap-2 rounded-lg [&amp;_svg]:-me-1" disabled="false" data-ui-group-target="true" href="https://www.figma.com/proto/lqlrBkmz2DBdbB8VP43SfP/Hidden-Italy?page-id=0%3A1&node-id=2515-11684&viewport=-265%2C1767%2C0.5&t=AzarM6Cr8O1ULYhL-1&scaling=min-zoom&content-scaling=fixed&starting-point-node-id=5287%3A16404" target="_blank"><!----><!----><div class="st-text-trim-start flex content-center">View Wireframe</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" class="size-4 shrink-0"><g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M1.097 11.735a3.58 3.58 0 0 0 3.146 3.155c1.222.136 2.477.253 3.757.253s2.535-.117 3.757-.253a3.58 3.58 0 0 0 3.146-3.155c.13-1.215.24-2.463.24-3.735s-.11-2.52-.24-3.735a3.58 3.58 0 0 0-3.146-3.155C10.535.974 9.28.857 8 .857s-2.535.117-3.757.253a3.58 3.58 0 0 0-3.146 3.155C.967 5.48.857 6.728.857 8s.11 2.52.24 3.735M5.623 10.377l4.3-4.3"></path><path d="M6.69 6.078c.606-.606 2.222-.606 3.232 0 .606 1.01.606 2.626 0 3.232"></path></g></svg></a>'
              type: html
              display: 'Desktop Wireframe'
              instructions: 'Navigate the wireframe using the main nav, or use the left and right keys.'
      -
        fields:
          -
            handle: slug
            field:
              type: slug
              localizable: true
              validate: 'max:200'
      -
        display: Taxonomy
        fields:
          -
            handle: tour_types
            field:
              max_items: 1
              type: terms
              display: 'Tour Type'
              taxonomies:
                - tour_types
              mode: select
              create: false
              validate:
                - required
          -
            handle: seasons
            field:
              type: terms
              taxonomies:
                - seasons
              display: Season
              max_items: 1
              create: false
              mode: select
              if:
                tour_types: 'contains tour_types::guided'
          -
            handle: regions
            field:
              type: terms
              taxonomies:
                - regions
              display: Region
              max_items: 1
              create: false
              mode: select
